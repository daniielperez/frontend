/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Point } from './point';
export class PointPool {
    /**
     * @param {?=} initialSize
     */
    constructor(initialSize = 1) {
        /** @type {?} */
        let prev = (this.firstAvailable = new Point());
        for (let i = 1; i < initialSize; i++) {
            /** @type {?} */
            const p = new Point();
            prev.next = p;
            prev = p;
        }
    }
    /**
     * @return {?}
     */
    get instance() {
        return this;
    }
    /**
     * @param {?} x
     * @param {?} y
     * @return {?}
     */
    borrow(x, y) {
        if (this.firstAvailable == null) {
            throw new Error('Pool exhausted');
        }
        this.borrowed++;
        /** @type {?} */
        const p = this.firstAvailable;
        this.firstAvailable = p.next;
        p.x = x;
        p.y = y;
        return p;
    }
    /**
     * @param {?} p
     * @return {?}
     */
    returnPoint(p) {
        this.borrowed--;
        p.x = 0;
        p.y = 0;
        p.next = this.firstAvailable;
        this.firstAvailable = p;
    }
}
if (false) {
    /**
     * @type {?}
     * @private
     */
    PointPool.prototype.borrowed;
    /**
     * @type {?}
     * @private
     */
    PointPool.prototype.firstAvailable;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9pbnRQb29sLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmd4LWltZy1jcm9wcGVyLyIsInNvdXJjZXMiOlsibGliL2ltYWdlLWNyb3BwZXIvbW9kZWwvcG9pbnRQb29sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBRWhDLE1BQU0sT0FBTyxTQUFTOzs7O0lBSXBCLFlBQVksY0FBc0IsQ0FBQzs7WUFDN0IsSUFBSSxHQUFVLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO1FBRXJELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxXQUFXLEVBQUUsQ0FBQyxFQUFFLEVBQUU7O2tCQUM5QixDQUFDLEdBQUcsSUFBSSxLQUFLLEVBQUU7WUFDckIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7WUFDZCxJQUFJLEdBQUcsQ0FBQyxDQUFDO1NBQ1Y7SUFDSCxDQUFDOzs7O0lBRUQsSUFBSSxRQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDOzs7Ozs7SUFFTSxNQUFNLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFDaEMsSUFBSSxJQUFJLENBQUMsY0FBYyxJQUFJLElBQUksRUFBRTtZQUMvQixNQUFNLElBQUksS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FDbkM7UUFDRCxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7O2NBQ1YsQ0FBQyxHQUFVLElBQUksQ0FBQyxjQUFjO1FBQ3BDLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUM3QixDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNSLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1IsT0FBTyxDQUFDLENBQUM7SUFDWCxDQUFDOzs7OztJQUVNLFdBQVcsQ0FBQyxDQUFRO1FBQ3pCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNoQixDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNSLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1IsQ0FBQyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBQzdCLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDO0lBQzFCLENBQUM7Q0FDRjs7Ozs7O0lBcENDLDZCQUF5Qjs7Ozs7SUFDekIsbUNBQThCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuL3BvaW50JztcclxuXHJcbmV4cG9ydCBjbGFzcyBQb2ludFBvb2wge1xyXG4gIHByaXZhdGUgYm9ycm93ZWQ6IG51bWJlcjtcclxuICBwcml2YXRlIGZpcnN0QXZhaWxhYmxlOiBQb2ludDtcclxuXHJcbiAgY29uc3RydWN0b3IoaW5pdGlhbFNpemU6IG51bWJlciA9IDEpIHtcclxuICAgIGxldCBwcmV2OiBQb2ludCA9ICh0aGlzLmZpcnN0QXZhaWxhYmxlID0gbmV3IFBvaW50KCkpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgaW5pdGlhbFNpemU7IGkrKykge1xyXG4gICAgICBjb25zdCBwID0gbmV3IFBvaW50KCk7XHJcbiAgICAgIHByZXYubmV4dCA9IHA7XHJcbiAgICAgIHByZXYgPSBwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGluc3RhbmNlKCk6IFBvaW50UG9vbCB7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBib3Jyb3coeDogbnVtYmVyLCB5OiBudW1iZXIpOiBQb2ludCB7XHJcbiAgICBpZiAodGhpcy5maXJzdEF2YWlsYWJsZSA9PSBudWxsKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignUG9vbCBleGhhdXN0ZWQnKTtcclxuICAgIH1cclxuICAgIHRoaXMuYm9ycm93ZWQrKztcclxuICAgIGNvbnN0IHA6IFBvaW50ID0gdGhpcy5maXJzdEF2YWlsYWJsZTtcclxuICAgIHRoaXMuZmlyc3RBdmFpbGFibGUgPSBwLm5leHQ7XHJcbiAgICBwLnggPSB4O1xyXG4gICAgcC55ID0geTtcclxuICAgIHJldHVybiBwO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJldHVyblBvaW50KHA6IFBvaW50KSB7XHJcbiAgICB0aGlzLmJvcnJvd2VkLS07XHJcbiAgICBwLnggPSAwO1xyXG4gICAgcC55ID0gMDtcclxuICAgIHAubmV4dCA9IHRoaXMuZmlyc3RBdmFpbGFibGU7XHJcbiAgICB0aGlzLmZpcnN0QXZhaWxhYmxlID0gcDtcclxuICB9XHJcbn1cclxuIl19